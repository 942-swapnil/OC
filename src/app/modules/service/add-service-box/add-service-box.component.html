<div>
  <div style="display:flex;justify-content:space-around;font-size:14px;font-weight:500;margin: 10px 0px;">
    <h1>Add New Service</h1>
  </div>
  <mat-dialog-content [formGroup]="service" class="mat-typography" style="width:110vh;border-top: 1px solid #dadada;">
    <div class="row" style="margin-top: 20px;">
      <div class="col-12">
        <div class="row">
          <div class="col-4">
            <mat-form-field appearance="legacy" style="display: block;">
              <mat-label>Service Name</mat-label>
              <input matInput formControlName="ServiceName">
            </mat-form-field>
          </div>
          <div class="col-2">
            <mat-form-field appearance="legacy" style="display: block;">
              <mat-label>Parent Category<span class="ogh">*</span></mat-label>
              <mat-select formControlName="ParentCategory">
                <mat-option *ngFor="let pokemon of ParentCategory" [value]="pokemon.id">
                  {{pokemon.name | titlecase}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-2">
            <mat-form-field appearance="legacy" style="display: block;">
              <mat-label>Category<span class="ogh">*</span></mat-label>
              <mat-select formControlName="Category">
                <mat-option style="padding-left: 50px;" *ngFor="let pokemon of ParentCategoryArrayForCategory"
                  [value]="pokemon.id">
                  {{pokemon.name | titlecase}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-2">
            <mat-form-field appearance="legacy" style="display: block;">
              <mat-label>Sub Category<span class="ogh">*</span></mat-label>
              <mat-select formControlName="SubCategory">
                <mat-option style="padding-left: 50px;" *ngFor="let pokemon of CategoryArrayForCategory"
                  [value]="pokemon.id">
                  {{pokemon.name | titlecase}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-2">
            <mat-form-field appearance="legacy" style="display: block;">
              <mat-label>Group<span class="ogh">*</span></mat-label>
              <mat-select formControlName="Group" multiple (selectionChange)="onSelectionChanged($event)">
                <mat-optgroup *ngFor="let group of treatment" [label]="group.groupname">
                  <mat-checkbox class="example-margin" style="position: absolute;
                  left: 13px;" color="primary" [indeterminate]="group.indeterminate" [checked]="group.checked"
                    (change)="onSelectAll(group)">
                  </mat-checkbox>
                  <mat-option style="padding-left: 50px;" *ngFor="let pokemon of group.BodyPart" [value]="pokemon.id">
                    {{pokemon.name | titlecase}}
                  </mat-option>
                </mat-optgroup>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
        <!-- sec row -->
        <div class="row">
          <div class="col-2">
            <mat-form-field appearance="legacy" style="display: block;">
              <mat-label>Portion<span class="ogh">*</span></mat-label>
              <mat-select formControlName="Portion" multiple>
                <mat-optgroup *ngFor="let g of group" [label]="g[0].name">
                  <mat-checkbox class="example-margin" style="position: absolute;
                  left: 13px;" color="primary">
                  </mat-checkbox>
                  <mat-option style="padding-left: 50px;" *ngFor="let pokemon of g[0].Portion" [value]="pokemon.id">
                    {{pokemon.name | titlecase}}
                  </mat-option>
                </mat-optgroup>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-3">
            <mat-form-field appearance="legacy" style="display: block;">
              <mat-label>Objective<span class="ogh">*</span></mat-label>
              <mat-select formControlName="Objective" multiple>
                <mat-option style="padding-left: 50px;" *ngFor="let pokemon of Objective" [value]="pokemon.id">
                  {{pokemon.name | titlecase}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-3">
            <mat-form-field appearance="legacy" style="display: block;">
              <mat-label>Activity<span class="ogh">*</span></mat-label>
              <mat-select formControlName="Activity" multiple>
                <mat-optgroup *ngFor="let g of Activity" [label]="g.name">
                  <mat-checkbox class="example-margin" style="position: absolute;
                  left: 13px;" color="primary">
                  </mat-checkbox>
                  <mat-option style="padding-left: 50px;" *ngFor="let pokemon of g.category" [value]="pokemon.id">
                    {{pokemon.name | titlecase}}
                  </mat-option>
                </mat-optgroup>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-2">
            <mat-form-field appearance="legacy" style="display: block;">
              <mat-label>Service Class<span class="ogh">*</span></mat-label>
              <mat-select formControlName="ServiceClass" multiple>
                <mat-optgroup *ngFor="let g of ServiceClass" [label]="g.name">
                  <mat-checkbox class="example-margin" style="position: absolute;
                  left: 13px;" color="primary">
                  </mat-checkbox>
                  <mat-option style="padding-left: 50px;" *ngFor="let pokemon of g.category" [value]="pokemon.id">
                    {{pokemon.name | titlecase}}
                  </mat-option>
                </mat-optgroup>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-2">
            <mat-form-field appearance="legacy" style="display: block;">
              <mat-label>Sub Class<span class="ogh">*</span></mat-label>
              <mat-select formControlName="SubClass" multiple>
                <mat-option style="padding-left: 50px;" *ngFor="let pokemon of SubClass" [value]="pokemon.id">
                  {{pokemon.name | titlecase}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-2">
            <mat-form-field appearance="legacy" style="display: block;">
              <mat-label>Rate</mat-label>
              <input matInput formControlName="ServiceName">
            </mat-form-field>
          </div>
          <div class="col-2">
            <mat-form-field appearance="legacy" style="display: block;">
              <mat-label>GST </mat-label>
              <input matInput formControlName="ServiceName">
            </mat-form-field>
          </div>
          <div class="col-2">
            <mat-form-field appearance="legacy" style="display: block;">
              <mat-label>Price </mat-label>
              <input matInput formControlName="ServiceName">
            </mat-form-field>
          </div>
          <div class="col-2">
            <mat-form-field appearance="legacy" style="display: block;">
              <mat-label>Duration </mat-label>
              <input matInput formControlName="DurationMinut" (input)="durationChage($event)">
            </mat-form-field>
          </div>
          <div class="col-1" appearance="legacy" style="display: block;">
            <mat-form-field>
              <mat-label></mat-label>
              <input type="time" matInput formControlName="Duration" (input)="timeChage($event)">
            </mat-form-field>
          </div>
        </div>
        <!-- thr row Dont Delete -->
        <div class="row">
        </div>
        <section>
          <div class="row mt-4">
            <mat-accordion class="example-headers-align">
              <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)" hideToggle>
                <mat-expansion-panel-header>
                  <mat-panel-title>
                    Gender
                  </mat-panel-title>
                  <mat-panel-description>
                    Type your Rate and GST
                    <mat-icon>â‚¹</mat-icon>
                  </mat-panel-description>
                </mat-expansion-panel-header>
                <div class="col-3">
                  <mat-form-field appearance="legacy" style="display: block;">
                    <mat-label>Gender<span class="ogh">*</span></mat-label>
                    <mat-select formControlName="Gender" multiple>
                      <mat-option style="padding-left: 50px;" *ngFor="let pokemon of Gender" [value]="pokemon.id">
                        {{pokemon.name | titlecase}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <table>
                  <tr *ngFor="let item of Gendervalue">
                    <td>
                      <label>{{servicename+" "+item[0].name}}</label>
                    </td>
                    <td>
                      <div>
                        <mat-form-field appearance="legacy" style="display: block; margin-left: 30px;">
                          <mat-label>Rate Type<span class="ogh">*</span></mat-label>
                          <mat-select [formControlName]="item[0].shortName+'Specific'">
                            <mat-option value="General">
                              General
                            </mat-option>
                            <mat-option value="Specific">
                              Specific
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                    </td>
                    <td *ngIf="form[item[0].shortName+'Specific'] =='Specific'">
                      <mat-form-field appearance="legacy" style="display: block;margin-left: 30px;">
                        <mat-label>Price</mat-label>
                        <input matInput type="number" [formControlName]="item[0].shortName+'rate'"
                          class="example-right-align">
                        <span matPrefix>â‚¹&nbsp;</span>
                        <span matSuffix>.00</span>
                      </mat-form-field>
                    </td>
                  </tr>
                </table>
                <mat-action-row>
                  <button mat-button color="primary" (click)="nextStep()">Next</button>
                </mat-action-row>
              </mat-expansion-panel>
              <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)" hideToggle>
                <mat-expansion-panel-header>
                  <mat-panel-title>
                    Stage
                  </mat-panel-title>
                  <mat-panel-description>
                    Type your Rate and GST
                    <mat-icon>â‚¹</mat-icon>
                  </mat-panel-description>
                </mat-expansion-panel-header>
                <div class="col-4">
                  <mat-form-field appearance="legacy" style="display: block;">
                    <mat-label>Stage<span class="ogh">*</span></mat-label>
                    <mat-select formControlName="Stage" multiple>
                      <mat-optgroup *ngFor="let g of Stage ;let val = index" [label]="g.name">
                        <mat-checkbox class="example-margin" style="position: absolute;
                        left: 13px;" color="primary">
                        </mat-checkbox>
                        <mat-option style="padding-left: 50px;" *ngFor="let pokemon of g?.category"
                          [value]="pokemon?.id" [disabled]="pokemon?.dis" >
                          {{pokemon?.name | titlecase}}
                        </mat-option> 
                       
                      </mat-optgroup>
                    </mat-select>
                  </mat-form-field>
                </div>
                <table style="width: 100%;">
                  <div class="col-12" *ngFor="let itemgender of Gendervalue">
                    <div class="row">
                      <label class="pl-5"> {{servicename+" "+itemgender[0].name}} Stage</label>
                      <div class="col-12 pl-5">
                      </div>
                    </div>
                    <tr *ngFor="let item of Stagevalue">
                      <div *ngIf=" item[0].shortName !='Custome'">
                        <td>
                          <label>{{servicename+" "+itemgender[0].name +" "+ item[0].name}}</label>
                        </td>
                        <td>
                          <div>
                            <mat-form-field appearance="legacy" style="display: block; margin-left: 30px;">
                              <mat-label>Rate Type<span class="ogh">*</span></mat-label>
                              <mat-select [formControlName]="itemgender[0].shortName+item[0].shortName+'Specific'">
                                <mat-option value="General">
                                  General
                                </mat-option>
                                <mat-option value="Specific">
                                  Specific
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                        </td>
                        <td *ngIf="form[itemgender[0].shortName+item[0].shortName+'Specific']=='Specific'">
                          <mat-form-field appearance="legacy" style="display: block;margin-left: 30px;">
                            <mat-label>Price</mat-label>
                            <input matInput type="number"
                              [formControlName]="itemgender[0].shortName+item[0].shortName+'Rate'"
                              class="example-right-align">
                            <span matPrefix>â‚¹&nbsp;</span>
                            <span matSuffix>.00</span>
                          </mat-form-field>
                        </td>
                      </div>
                    </tr>
                  </div>
                </table>
                <mat-action-row>
                  <button mat-button color="warn" (click)="prevStep()">Previous</button>
                  <button mat-button color="primary" (click)="nextStep()">Next</button>
                </mat-action-row>
              </mat-expansion-panel>
              <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)" hideToggle>
                <mat-expansion-panel-header>
                  <mat-panel-title>
                    Size
                  </mat-panel-title>
                  <mat-panel-description>
                    Type your Rate and GST
                    <mat-icon>â‚¹</mat-icon>
                  </mat-panel-description>
                </mat-expansion-panel-header>
                <section class="example-section">
                  <mat-checkbox class="example-margin" color="primary" formControlName="Weight" >Weight</mat-checkbox>
                  <mat-checkbox class="example-margin" color="primary" formControlName="Height" >Height</mat-checkbox>
                  <mat-checkbox class="example-margin" color="primary" formControlName="Length" >Length</mat-checkbox>
                </section>

                <table *ngIf="Height ||  Length ||  Weight">
                  <div class="col-12" *ngFor="let itemgender of Gendervalue">
                    <div class="row">
                      <label class="pl-5"> {{servicename+" "+itemgender[0].name}} Stage</label>
                      <div class="col-12 pl-5">
                      </div>
                    </div>
                    <tr *ngFor="let item of Stagevalue">
                      <td>
                        <label>{{servicename+" "+itemgender[0].name +" "+ item[0].name}}</label>
                      </td>
                      <td *ngIf="Height">
                        <div style="width: 130px;"><mat-form-field appearance="legacy" style="display: block;margin-left: 30px;">
                          <mat-label>Height</mat-label>
                          <input matInput type="number"
                           
                            class="example-right-align">
                          <span matPrefix>&nbsp;</span>
                          <span matSuffix>Inch</span>
                        </mat-form-field></div>
                      </td>
                      <td *ngIf="Length">
                        <div style="width: 130px;"><mat-form-field appearance="legacy" style="display: block;margin-left: 30px;">
                          <mat-label>Length</mat-label>
                          <input matInput type="number"
                            
                            class="example-right-align">
                          <span matPrefix>&nbsp;</span>
                          <span matSuffix>Inch</span>
                        </mat-form-field></div>
                      </td>
                      <td *ngIf="Weight">
                        <div style="width: 130px;"><mat-form-field appearance="legacy" style="display: block;margin-left: 30px;">
                          <mat-label>Weight</mat-label>
                          <input matInput type="number"
                            
                            class="example-right-align">
                          <span matPrefix>&nbsp;</span>
                          <span matSuffix>g</span>
                        </mat-form-field></div>
                      </td>
                      <td>
                        <div style="width: 130px;"><mat-form-field appearance="legacy" style="display: block;margin-left: 30px;">
                          <mat-label>Price</mat-label>
                          <input matInput type="number" 
                            class="example-right-align">
                          <span matPrefix>â‚¹&nbsp;</span>
                          <span matSuffix>.00</span>
                        </mat-form-field></div>
                      </td>
                    </tr>
                  </div>
                </table>

                <mat-action-row>
                  <button mat-button color="warn" (click)="prevStep()">Previous</button>
                  <button mat-button color="primary" (click)="nextStep()">Next</button>
                </mat-action-row>
              </mat-expansion-panel>
              <mat-expansion-panel [expanded]="step === 3" (opened)="setStep(3)" hideToggle>
                <mat-expansion-panel-header>
                  <mat-panel-title>
                    Duration
                  </mat-panel-title>
                  <mat-panel-description>
                    Type your Rate and GST
                    <mat-icon>â‚¹</mat-icon>
                  </mat-panel-description>
                </mat-expansion-panel-header>
                <table style="width: 100%;">
                  <div class="col-12" *ngFor="let itemgender of Gendervalue">
                    <div class="row">
                      <label class="pl-5"> {{servicename+" "+itemgender[0].name}} Stage</label>
                      <div class="col-12 pl-5">
                      </div>
                    </div>
                    <tr *ngFor="let item of Stagevalue">
                      <td>
                        <label>{{servicename+" "+itemgender[0].name +" "+ item[0].name}}</label>
                      </td>
                      <td>
                        <div appearance="legacy" style="display: block;">
                          <mat-form-field>
                            <mat-label></mat-label>
                            <input type="time" matInput formControlName="Duration" (input)="timeChage($event)">
                          </mat-form-field>
                        </div>
                      </td>
                      <td>
                        <mat-form-field appearance="legacy" style="display: block;">
                          <mat-label>Duration </mat-label>
                          <input matInput formControlName="DurationMinut" (input)="durationChage($event)">
                        </mat-form-field>
                      </td>
                      <td *ngIf="form[itemgender[0].shortName+item[0].shortName+'Specific']=='Specific'">
                        <mat-form-field appearance="legacy" style="display: block;margin-left: 30px;">
                          <mat-label>Price</mat-label>
                          <input matInput type="number"
                            [formControlName]="itemgender[0].shortName+item[0].shortName+'Rate'"
                            class="example-right-align">
                          <span matPrefix>â‚¹&nbsp;</span>
                          <span matSuffix>.00</span>
                        </mat-form-field>
                      </td>
                    </tr>
                  </div>
                </table>
                <mat-action-row>
                  <button mat-button color="warn" (click)="prevStep()">Previous</button>
                  <button mat-button color="primary" (click)="nextStep()">Next</button>
                </mat-action-row>
              </mat-expansion-panel>
              <mat-expansion-panel [expanded]="step === 4" (opened)="setStep(4)" hideToggle>
                <mat-expansion-panel-header>
                  <mat-panel-title>
                    Technician
                  </mat-panel-title>
                  <mat-panel-description>
                    Type your Rate and GST
                    <mat-icon>â‚¹</mat-icon>
                  </mat-panel-description>
                </mat-expansion-panel-header>
                <table style="width: 100%;">
                  <div class="col-12" *ngFor="let itemgender of Gendervalue">
                    <div class="row">
                      <label class="pl-5"> {{servicename+" "+itemgender[0].name}} Stage</label>
                      <div class="col-12 pl-5">
                      </div>
                    </div>
                    <tr *ngFor="let item of Stagevalue">
                      <td>
                        <label>{{servicename+" "+itemgender[0].name +" "+ item[0].name}}</label>
                      </td>
                      <td>
                      </td>
                      <td>
                        <mat-form-field class="example-full-width">
                          <input type="text" placeholder="Pick one" aria-label="Number" matInput
                            [matAutocomplete]="auto">
                          <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                            <mat-option *ngFor="let option of filteredOptions" [value]="option">
                              {{option}}
                            </mat-option>
                          </mat-autocomplete>
                        </mat-form-field>
                      </td>
                      <td *ngIf="form[itemgender[0].shortName+item[0].shortName+'Specific']=='Specific'">
                        <mat-form-field appearance="legacy" style="display: block;margin-left: 30px;">
                          <mat-label>Price</mat-label>
                          <input matInput type="number"
                            [formControlName]="itemgender[0].shortName+item[0].shortName+'Rate'"
                            class="example-right-align">
                          <span matPrefix>â‚¹&nbsp;</span>
                          <span matSuffix>.00</span>
                        </mat-form-field>
                      </td>
                    </tr>
                  </div>
                </table>
                <mat-action-row>
                  <button mat-button color="warn" (click)="prevStep()">Previous</button>
                  <button mat-button color="primary" (click)="nextStep()">End</button>
                </mat-action-row>
              </mat-expansion-panel>
            </mat-accordion>
          </div>
        </section>
        <section>
          <div class="row">
            <table style="margin-top: 10px; width: 100%;">
              <tr>
                <th colspan="4"></th>
                <th>
                  <h3 class="pl-5">Rate</h3>
                </th>
                <th>
                  <h3 class="pl-5">GST â‚¹ </h3>
                </th>
                <th>
                  <h3 class="pl-5">MSP </h3>
                </th>
                <th>
                  <h3 class="pl-5">Total </h3>
                </th>
                <th>
                  <h3 class="pl-5">Duration </h3>
                </th>
              </tr>
              <tr>
                <td>
                  <h3>Pre Services</h3>
                </td>
                <td>
                  <div>
                    <mat-form-field style="    width: 111px;
                    margin: 0px 15px 0 15px;" class="example-full-width">
                      <input type="text" placeholder="Pick a pre service" aria-label="Number" matInput
                        formControlName="preservicesearchbox" [matAutocomplete]="auto">
                      <mat-autocomplete #auto="matAutocomplete">
                        <mat-option *ngFor="let option of preservisListoption[0]" [value]="option.id">
                          {{option.name}}
                        </mat-option>
                      </mat-autocomplete>
                    </mat-form-field>
                  </div>
                </td>
                <td>
                  <div style="    width: 111px;
                  margin: 0px 15px 0 15px;">
                    <mat-form-field appearance="legacy" style="display: block;">
                      <!-- <mat-label>Parent Category<span class="ogh">*</span></mat-label> -->
                      <mat-select>
                        <mat-option value="Compulsory">Compulsory</mat-option>
                        <mat-option value="Optional">Optional</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </td>
                <td>
                  <div style="    width: 111px;
                margin: 0px 15px 0 15px;">
                    <mat-form-field appearance="legacy" style="display: block;">
                      <!-- <mat-label>Parent Category<span class="ogh">*</span></mat-label> -->
                      <mat-select>
                        <mat-option value="Free">Free</mat-option>
                        <mat-option value="Charged">Charged</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </td>
                <td>
                  <h4 class="text-center">100</h4>
                </td>
                <td>
                  <h4 class="text-center">100</h4>
                </td>
                <td>
                  <h4 class="text-center">100</h4>
                </td>
                <td>
                  <h4 class="text-center">100</h4>
                </td>
                <td>
                  <h4 class="text-center">100</h4>
                </td>
              </tr>
              <tr class="mt-5 mb-5">
                <td>
                </td>
                <td>
                  <mat-form-field appearance="legacy" style=" margin: 0px 15px 0 15px;display: block;width:111px;">
                    <mat-label>Service Name</mat-label>
                    <input matInput formControlName="ServiceName">
                  </mat-form-field>
                </td>
                <td>
                </td>
                <td>
                </td>
                <td>
                  <h4 class="text-center">100</h4>
                </td>
                <td>
                  <h4 class="text-center">100</h4>
                </td>
                <td>
                  <h4 class="text-center">100</h4>
                </td>
                <td>
                  <h4 class="text-center">100</h4>
                </td>
                <td>
                  <h4 class="text-center">100</h4>
                </td>
              </tr>
              <tr>
                <td>
                  <h3>Post Services</h3>
                </td>
                <td>
                  <div>
                    <mat-form-field style="    width: 111px;
                    margin: 0px 15px 0 15px;" class="example-full-width">
                      <input type="text" placeholder="Pick a post service" aria-label="Number" matInput
                        formControlName="preservicesearchbox" [matAutocomplete]="auto">
                      <mat-autocomplete #auto="matAutocomplete">
                        <mat-option *ngFor="let option of preservisListoption[0]" [value]="option.id">
                          {{option.name}}
                        </mat-option>
                      </mat-autocomplete>
                    </mat-form-field>
                  </div>
                </td>
                <td>
                  <div style="    width: 111px;
                  margin: 0px 15px 0 15px;">
                    <mat-form-field appearance="legacy" style="display: block;">
                      <!-- <mat-label>Parent Category<span class="ogh">*</span></mat-label> -->
                      <mat-select>
                        <mat-option value="Compulsory">Compulsory</mat-option>
                        <mat-option value="Optional">Optional</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </td>
                <td>
                  <div style="    width: 111px;
                margin: 0px 15px 0 15px;">
                    <mat-form-field appearance="legacy" style="display: block;">
                      <!-- <mat-label>Parent Category<span class="ogh">*</span></mat-label> -->
                      <mat-select>
                        <mat-option value="Free">Free</mat-option>
                        <mat-option value="Charged">Charged</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </td>
                <td>
                  <h4 class="text-center">100</h4>
                </td>
                <td>
                  <h4 class="text-center">100</h4>
                </td>
                <td>
                  <h4 class="text-center">100</h4>
                </td>
                <td>
                  <h4 class="text-center">100</h4>
                </td>
                <td>
                  <h4 class="text-center">100</h4>
                </td>
              </tr>
            </table>
          </div>
        </section>
      </div>
    </div>
  </mat-dialog-content>
  <mat-dialog-actions align="end">
    <button mat-button mat-dialog-close>Cancel</button>
    <button mat-button cdkFocusInitial (click)="onSave()">Save</button>
  </mat-dialog-actions>
</div>